<!DOCTYPE html>
<html ng-app='FlashCards'>
  <head>
    <meta charset="utf-8">
    <title>Flash Cards</title>
    <link rel="stylesheet" href="/css/styles.css" media="screen" title="no title" charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js" charset="utf-8"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script>
    <script src="/js/ang.js" charset="utf-8"></script>
    <script src="/js/scripts.js" charset="utf-8"></script>
  </head>
  <body ng-controller='FlashCardsController'>
    <header>
      <h1>Welcome to <span id="flash-text">Flash</span> Cards!</h1>
      <!-- Navigation goes here -->
      <!-- Example of Mouseover/Mouseleave -->
      <!-- ng-mouseover="dispAllTests = true" ng-mouseleave="dispAllTests = false" -->
      <div id="nav-bar">
        <a href="#" ng-click="showCreateForm()">
          <div class="nav-item">New Flash Card</div>
        </a>
        <a href="#" ng-click="showAllFlashCards()">
          <div class="nav-item">All Flash Cards</div>
        </a>
        <a href="#" ng-click="showAllTests()">
          <div class="nav-item">All Tests</div>
        </a>
        <a href="#">
          <div class="nav-item">Choose a Test</div>
        </a>
        <a href="#" ng-click="getRandomTestCards()">
          <div class="nav-item">Random Test</div>
        </a>
      </div>
    </header>

    <div class="container">
      <!-- Dynamic content goes here -->

      <!-- Create New Flash Card Form -->
      <form ng-submit='saveCard()' ng-show="dispCreate">
        <input type="text" name="title" placeholder="Title" ng-model="newCard.title">
        <input type="text" name="subject" placeholder="Subject" ng-model="newCard.subject">
        <input type="text" name="question" placeholder="Question" ng-model="newCard.question">
        <input type="text" name="answer" placeholder="Answer" ng-model="newCard.answer">
        <input type="submit" value="Add">
      </form>

      <!-- List All Tests -->
      <ul ng-show="dispAllTests">
        <li ng-repeat="test in allTests">
          {{ test }}
        </li>
      </ul>

      <!-- List All Flash Cards -->
      <ul ng-show="dispAllCards">
        <li ng-repeat="card in allCards">
          <h3>{{ card.title }}</h3>
          <h5>{{ card.subject }}</h5>
          <h5>{{ card.question }}</h5>
          <h5>{{ card.answer }}</h5>
          <h5>{{ card.tests }}</h5>
          <label for="newTest">Add this card to a new Test</label>
          <input type="text" name="newTest" placeholder="Test" ng-model="$parent.newTest">
          <form>
            <input type="text" name="title" placeholder="{{ card.title }}" ng-model="card.title">
            <input type="text" name="title" placeholder="{{ card.subject }}" ng-model="card.subject">
            <input type="text" name="title" placeholder="{{ card.question }}" ng-model="card.question">
            <input type="text" name="title" placeholder="{{ card.answer }}" ng-model="card.answer">
          </form>
          <button ng-click="addToTest( card._id )">Add to Test</button>
          <button ng-click="updateCard( card )">Update</button>
          <button ng-click="deleteCard( card._id )">Delete</button>
        </li>
      </ul>

      <!-- List Random Test Flash Cards -->
      <ul ng-show="dispRandomTest">
        <li ng-repeat="card in randomTest">
          <h3>{{ card.title }}</h3>
          <h5>{{ card.subject }}</h5>
          <h5>{{ card.question }}</h5>
          <h5>{{ card.answer }}</h5>
        </li>
      </ul>
    </div>
  </body>
</html>
